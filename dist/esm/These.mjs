import{fromEquals as t}from"./Eq.mjs";import{fromOption as e,fromOptionK as r,fromPredicate as i}from"./FromEither.mjs";import{identity as f,pipe as h}from"./function.mjs";import{flap as n}from"./Functor.mjs";import{emptyReadonlyArray as o,head as l,isNonEmpty as a,isNone as g,none as u,some as c}from"./internal.mjs";let p=t=>"Left"===t._tag,m=t=>"Right"===t._tag;function s(t){return"Both"===t._tag}function d(t){return{_tag:"Left",left:t}}function v(t){return{_tag:"Right",right:t}}function _(t,e){return{_tag:"Both",left:t,right:e}}let R=(t,e,r)=>i=>{switch(i._tag){case"Left":return t(i.left);case"Right":return e(i.right);case"Both":return r(i.left,i.right)}},T=R,E=R,w=E,y=E(v,d,(t,e)=>_(e,t));function L(t,e){return{show:E(e=>`left(${t.show(e)})`,t=>`right(${e.show(t)})`,(r,i)=>`both(${t.show(r)}, ${e.show(i)})`)}}function O(e,r){return t((t,i)=>p(t)?p(i)&&e.equals(t.left,i.left):m(t)?m(i)&&r.equals(t.right,i.right):s(i)&&e.equals(t.left,i.left)&&r.equals(t.right,i.right))}function q(t,e){return{concat:(r,i)=>p(r)?p(i)?d(t.concat(r.left,i.left)):m(i)?_(r.left,i.right):_(t.concat(r.left,i.left),i.right):m(r)?p(i)?_(i.left,r.right):m(i)?v(e.concat(r.right,i.right)):_(i.left,e.concat(r.right,i.right)):p(i)?_(t.concat(r.left,i.left),r.right):m(i)?_(r.left,e.concat(r.right,i.right)):_(t.concat(r.left,i.left),e.concat(r.right,i.right))}}let b=t=>({URI:tt,_E:void 0,map:K,ap:(e,r)=>p(e)?p(r)?d(t.concat(e.left,r.left)):m(r)?d(e.left):d(t.concat(e.left,r.left)):m(e)?p(r)?d(r.left):m(r)?v(e.right(r.right)):_(r.left,e.right(r.right)):p(r)?d(t.concat(e.left,r.left)):m(r)?_(e.left,e.right(r.right)):_(t.concat(e.left,r.left),e.right(r.right))});function B(t){return{URI:tt,_E:void 0,map:K,ap:b(t).ap,of:Z}}function F(t){return{URI:tt,_E:void 0,map:K,ap:b(t).ap,chain:(e,r)=>{if(p(e))return e;if(m(e))return r(e.right);let i=r(e.right);return p(i)?d(t.concat(e.left,i.left)):m(i)?_(e.left,i.right):_(t.concat(e.left,i.left),i.right)}}}function j(t){let e=F(t);return{URI:tt,_E:void 0,map:K,of:Z,ap:e.ap,chain:e.chain,throwError:d}}function A(t){return p(t)?c(t.left):m(t)?u:c(t.left)}function M(t){return p(t)?u:(m(t),c(t.right))}function x(t){return e=>g(e)?d(t):_(t,e.value)}function W(t){return e=>g(e)?v(t):_(e.value,t)}function $(t){return p(t)?c(t.left):u}function I(t){return m(t)?c(t.right):u}let P=(t,e)=>g(t)?g(e)?u:c(v(e.value)):g(e)?c(d(t.value)):c(_(t.value,e.value)),K=(t,e)=>h(t,H(e)),S=(t,e,r)=>h(t,D(e,r)),C=(t,e)=>h(t,G(e)),N=(t,e,r)=>h(t,J(e,r)),U=t=>{let e=Q(t);return(t,r)=>h(t,e(r))},k=(t,e,r)=>h(t,V(e,r)),z=t=>{let e=X(t);return(t,r)=>h(t,e(r))},D=(t,e)=>r=>p(r)?d(t(r.left)):m(r)?v(e(r.right)):_(t(r.left),e(r.right)),G=t=>e=>p(e)?d(t(e.left)):s(e)?_(t(e.left),e.right):e,H=t=>e=>p(e)?e:m(e)?v(t(e.right)):_(e.left,t(e.right)),J=(t,e)=>r=>p(r)?t:e(t,r.right),Q=t=>e=>r=>p(r)?t.empty:e(r.right),V=(t,e)=>r=>p(r)?t:e(r.right,t),X=t=>e=>r=>p(r)?t.of(r):m(r)?t.map(e(r.right),v):t.map(e(r.right),t=>_(r.left,t)),Y=t=>e=>p(e)?t.of(e):m(e)?t.map(e.right,v):t.map(e.right,t=>_(e.left,t)),Z=v,tt="These",te={URI:tt,map:K},tr=n(te),ti={URI:tt,of:Z},tf={URI:tt,bimap:S,mapLeft:C},th={URI:tt,fromThese:f},tn={URI:tt,reduce:N,foldMap:U,reduceRight:k},to={URI:tt,map:K,reduce:N,foldMap:U,reduceRight:k,traverse:z,sequence:Y},tl={URI:tt,fromEither:f},ta=i(tl),tg=e(tl),tu=r(tl),tc=t=>e=>r=>!p(r)&&t.equals(e,r.right),tp=t=>e=>!p(e)&&t(e.right),tm=(t,e)=>r=>p(r)?[r.left,e()]:m(r)?[t(),r.right]:[r.left,r.right],ts=(t,e)=>tm(()=>t,()=>e),td=Z(o),tv=t=>e=>r=>{let i=u,f=e(0,l(r));if(p(f))return f;s(f)&&(i=c(f.left));let h=[f.right];for(let f=1;f<r.length;f++){let n=e(f,r[f]);if(p(n))return n;s(n)&&(i=g(i)?c(n.left):c(t.concat(i.value,n.left))),h.push(n.right)}return g(i)?v(h):_(i.value,h)},t_=t=>e=>{let r=tv(t)(e);return t=>a(t)?r(t):td},tR={URI:tt,map:K,bimap:S,mapLeft:C,reduce:N,foldMap:U,reduceRight:k,traverse:z,sequence:Y};export{td as ApT,tf as Bifunctor,tn as Foldable,tl as FromEither,th as FromThese,te as Functor,ti as Pointed,to as Traversable,tt as URI,D as bimap,_ as both,tc as elem,tp as exists,tr as flap,w as fold,Q as foldMap,T as foldW,tg as fromOption,tu as fromOptionK,P as fromOptions,ta as fromPredicate,B as getApplicative,b as getApply,F as getChain,O as getEq,A as getLeft,$ as getLeftOnly,j as getMonad,M as getRight,I as getRightOnly,q as getSemigroup,L as getShow,s as isBoth,p as isLeft,m as isRight,d as left,x as leftOrBoth,H as map,G as mapLeft,E as match,R as matchW,Z as of,J as reduce,V as reduceRight,v as right,W as rightOrBoth,Y as sequence,y as swap,tR as these,ts as toTuple,tm as toTuple2,X as traverse,t_ as traverseReadonlyArrayWithIndex,tv as traverseReadonlyNonEmptyArrayWithIndex};