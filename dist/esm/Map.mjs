import{pipe as e}from"./function.mjs";import{flap as t}from"./Functor.mjs";import{isLeft as r,isNone as n,isSome as a,none as i,some as l}from"./internal.mjs";import{map as o}from"./Option.mjs";import{difference as p,elem as u,foldMap as d,foldMapWithIndex as c,getEq as s,getFoldable as f,getFoldableWithIndex as M,getShow as m,intersection as h,isEmpty as g,isSubmap as x,lookup as W,member as b,reduce as v,reduceRight as I,reduceRightWithIndex as w,reduceWithIndex as y,size as _,union as O}from"./ReadonlyMap.mjs";import{separated as j}from"./Separated.mjs";import{wiltDefault as R,witherDefault as P}from"./Witherable.mjs";function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}let F=m,k=_,A=g,q=b,D=u,U=e=>t=>Array.from(t.keys()).sort(e.compare),z=e=>t=>Array.from(t.values()).sort(e.compare);function C(e){let t=U(e);return e=>r=>{let n=[];for(let a of t(r))n.push(e(a,r.get(a)));return n}}function K(e){return C(e)((e,t)=>[e,t])}function T(e,t){let r=K(e);return e=>{let n=r(e),a=n.length;return t.unfold(0,e=>e<a?l([n[e],e+1]):i)}}let B=e=>{let t=N(e);return(e,r)=>{let a=t(e);return t=>{let i=a(t);if(n(i)){let n=new Map(t);return n.set(e,r),n}if(i.value[1]!==r){let e=new Map(t);return e.set(i.value[0],r),e}return t}}},G=e=>{let t=N(e);return e=>r=>{let n=t(e,r);if(a(n)){let e=new Map(r);return e.delete(n.value[0]),e}return r}},H=e=>{let t=J(e);return(e,r)=>t(e,()=>r)},J=e=>{let t=N(e);return(e,r)=>a=>{let o=t(e,a);if(n(o))return i;let p=new Map(a);return p.set(o.value[0],r(o.value[1])),l(p)}};function L(t){let r=Q(t),n=G(t);return t=>{let a=n(t);return n=>e(r(t,n),o(e=>[e,a(n)]))}}function N(e){return(t,r)=>{let n;if(void 0===r){let r=N(e);return e=>r(t,e)}let a=r.entries();for(;!(n=a.next()).done;){let[r,a]=n.value;if(e.equals(r,t))return l([r,a])}return i}}let Q=W,V=x,X=s;function Y(e,t){let r=N(e);return{concat:(e,n)=>{let i;if(A(e))return n;if(A(n))return e;let l=new Map(e),o=n.entries();for(;!(i=o.next()).done;){let[n,o]=i.value,p=r(n,e);a(p)?l.set(p.value[0],t.concat(p.value[1],o)):l.set(n,o)}return l},empty:new Map}}let Z=(e,t)=>new Map([[e,t]]);function $(e,t,r){return n=>{let i=N(e);return r.reduce(n,new Map,(e,[r,n])=>{let l=i(r,e);return a(l)?e.set(l.value[0],t.concat(l.value[1],n)):e.set(r,n),e})}}let ee=(e,t)=>{let r,n=new Map,a=e.entries();for(;!(r=a.next()).done;){let[e,a]=r.value;n.set(e,t(e,a))}return n},et=e=>t=>{let n,a=new Map,i=new Map,l=t.entries();for(;!(n=l.next()).done;){let[t,l]=n.value,o=e(t,l);r(o)?a.set(t,o.left):i.set(t,o.right)}return j(a,i)};function er(e){return t=>{let r,n=new Map,a=new Map,i=t.entries();for(;!(r=i.next()).done;){let[t,i]=r.value;e(t,i)?a.set(t,i):n.set(t,i)}return j(n,a)}}let en=e=>t=>{let r,n=new Map,i=t.entries();for(;!(r=i.next()).done;){let[t,i]=r.value,l=e(t,i);a(l)&&n.set(t,l.value)}return n};function ea(e){return t=>{let r,n=new Map,a=t.entries();for(;!(r=a.next()).done;){let[t,a]=r.value;e(t,a)&&n.set(t,a)}return n}}let ei=(e,t)=>ee(e,(e,r)=>t(r)),el=(e,t)=>ed(e,(e,r)=>t(r)),eo=(e,t)=>ec(e,(e,r)=>t(r)),ep=(e,t)=>es(e,(e,r)=>t(r)),eu=(e,t)=>ef(e,(e,r)=>t(r)),ed=(t,r)=>e(t,ea(r)),ec=(t,r)=>e(t,en(r)),es=(t,r)=>e(t,er(r)),ef=(t,r)=>e(t,et(r)),eM=e=>{let t,r=new Map,n=e.entries();for(;!(t=n.next()).done;){let[e,n]=t.value;a(n)&&r.set(e,n.value)}return r},em=e=>t=>el(t,e),eh=e=>t=>eo(t,e),eg=e=>t=>ei(t,e),ex=e=>t=>ee(t,e),eW=e=>t=>ep(t,e),eb=e=>t=>eu(t,e),ev=e=>{let t,n=new Map,a=new Map,i=e.entries();for(;!(t=i.next()).done;){let[e,i]=t.value;r(i)?n.set(e,i.left):a.set(e,i.right)}return j(n,a)},eI="Map",ew=(e,t)=>{let r=eG(e,t);return{concat:(e,t)=>r(t)(e)}},ey=(e,t)=>({concat:ew(e,t).concat,empty:new Map}),e_=(e,t)=>{let r=eH(e,t);return{concat:(e,t)=>r(t)(e)}},eO=e=>()=>{let t=eJ(e);return{concat:(e,r)=>t(r)(e)}};function ej(){return{URI:eI,_E:void 0,map:ei,mapWithIndex:ee,compact:eM,separate:ev,filter:el,filterMap:eo,partition:ep,partitionMap:eu,partitionMapWithIndex:ef,partitionWithIndex:es,filterMapWithIndex:ec,filterWithIndex:ed}}function eR(e){let t=eU(e);return{URI:eI,_E:void 0,map:ei,compact:eM,separate:ev,filter:el,filterMap:eo,partition:ep,partitionMap:eu,reduce:t.reduce,foldMap:t.foldMap,reduceRight:t.reduceRight,traverse:t.traverse,sequence:t.sequence,mapWithIndex:ee,reduceWithIndex:t.reduceWithIndex,foldMapWithIndex:t.foldMapWithIndex,reduceRightWithIndex:t.reduceRightWithIndex,traverseWithIndex:t.traverseWithIndex,wilt:R(t,eK),wither:P(t,eK)}}let eP=v,eS=d,eE=I,eF=e=>E(S({},f(e)),{URI:eI}),ek=y,eA=c,eq=w,eD=e=>E(S({},M(e)),{URI:eI}),eU=e=>{let t=eD(e),r=U(e),n=e=>(t,n)=>{let a=e.of(new Map),i=r(t),l=i.length;for(let r=0;r<l;r++){let l=i[r],o=t.get(l);a=e.ap(e.map(a,e=>t=>e.set(l,t)),n(l,o))}return a};return{URI:eI,_E:void 0,map:ei,mapWithIndex:ee,reduce:t.reduce,foldMap:t.foldMap,reduceRight:t.reduceRight,reduceWithIndex:t.reduceWithIndex,foldMapWithIndex:t.foldMapWithIndex,reduceRightWithIndex:t.reduceRightWithIndex,traverse:e=>{let t=n(e);return(e,r)=>t(e,(e,t)=>r(t))},sequence:e=>{let t=n(e);return e=>t(e,(e,t)=>t)},traverseWithIndex:n}},ez={URI:eI,map:ei},eC=t(ez),eK={URI:eI,compact:eM,separate:ev},eT={URI:eI,map:ei,compact:eM,separate:ev,filter:el,filterMap:eo,partition:ep,partitionMap:eu},eB=e=>new Map(e),eG=(e,t)=>{let r=O(e,t);return e=>t=>A(t)?eB(e):A(e)?eB(t):r(e)(t)},eH=(e,t)=>{let r=h(e,t);return e=>t=>A(t)||A(e)?new Map:r(e)(t)},eJ=e=>{let t=p(e);return e=>r=>A(r)?eB(e):A(e)?eB(r):t(e)(r)},eL=new Map,eN=B,eQ=eT;export{eK as Compactable,eT as Filterable,ez as Functor,eI as URI,C as collect,eM as compact,G as deleteAt,eJ as difference,D as elem,eL as empty,em as filter,eh as filterMap,en as filterMapWithIndex,ea as filterWithIndex,eC as flap,eS as foldMap,eA as foldMapWithIndex,$ as fromFoldable,eO as getDifferenceMagma,X as getEq,ej as getFilterableWithIndex,eF as getFoldable,eD as getFoldableWithIndex,e_ as getIntersectionSemigroup,Y as getMonoid,F as getShow,eU as getTraversableWithIndex,ey as getUnionMonoid,ew as getUnionSemigroup,eR as getWitherable,eN as insertAt,eH as intersection,A as isEmpty,V as isSubmap,U as keys,Q as lookup,N as lookupWithKey,eg as map,ex as mapWithIndex,eQ as map_,q as member,J as modifyAt,eW as partition,eb as partitionMap,et as partitionMapWithIndex,er as partitionWithIndex,L as pop,eP as reduce,eE as reduceRight,eq as reduceRightWithIndex,ek as reduceWithIndex,ev as separate,Z as singleton,k as size,K as toArray,T as toUnfoldable,eG as union,H as updateAt,B as upsertAt,z as values};