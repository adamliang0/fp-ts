import{fromEquals as e}from"./Eq.mjs";import{identity as t}from"./function.mjs";import{not as r}from"./Predicate.mjs";import{separated as n}from"./Separated.mjs";let o=e=>new Set(e),u=e=>new Set([e]),i=e=>t=>{let r=t.length,n=new Set,o=_(e);for(let e=0;e<r;e++){let r=t[e];o(r,n)||n.add(r)}return n};function l(e){return new Set(e)}function a(e){let t=_(e);return e=>r=>{let n=new Set;return r.forEach(r=>{let o=e(r);t(o,n)||n.add(o)}),n}}function f(e){let t=_(e);return e=>r=>{let n=new Set;return r.forEach(r=>{e(r).forEach(e=>{t(e,n)||n.add(e)})}),n}}function c(e){return t=>{let r,n=t.values(),o=new Set;for(;!(r=n.next()).done;){let t=r.value;e(t)&&o.add(t)}return o}}function d(e){return t=>{let r,o=t.values(),u=new Set,i=new Set;for(;!(r=o.next()).done;){let t=r.value;e(t)?u.add(t):i.add(t)}return n(i,u)}}function s(e){let t=_(e);return(r,n)=>{if(void 0===n){let t=s(e);return e=>t(r,e)}if(q(r))return n;if(q(n))return r;let o=new Set(r);return n.forEach(e=>{t(e,o)||o.add(e)}),o}}function m(e){let t=_(e);return(r,n)=>{if(void 0===n){let t=m(e);return e=>t(e,r)}if(q(r)||q(n))return M;let o=new Set;return r.forEach(e=>{t(e,n)&&o.add(e)}),o}}function S(e,t){return r=>o=>{let u,i=o.values(),l=new Set,a=new Set,f=_(e),c=_(t);for(;!(u=i.next()).done;){let e=r(u.value);switch(e._tag){case"Left":f(e.left,l)||l.add(e.left);break;case"Right":c(e.right,a)||a.add(e.right)}}return n(l,a)}}function h(e){let t=_(e);return(r,n)=>{if(void 0===n){let t=h(e);return e=>t(e,r)}return c(e=>!t(e,n))(r)}}function g(e){let t=k(e);return(e,r)=>n=>t(n).reduce(r,e)}function w(e,t){let r=k(e);return e=>n=>r(n).reduce((r,n)=>t.concat(r,e(n)),t.empty)}let p=e=>{let t=k(e);return(e,r)=>n=>t(n).reduceRight((e,t)=>r(t,e),e)};function v(e){let t=_(e);return e=>r=>{if(t(e)(r))return r;{let t=new Set(r);return t.add(e),t}}}let E=e=>t=>r=>c(r=>!e.equals(t,r))(r),y=e=>{let t=_(e),r=E(e),n=v(e);return e=>o=>(t(e,o)?r:n)(e)(o)},R=e=>j(e)(t);function x(e,t){return r=>{let o=_(e),u=_(t),i=new Set,l=new Set;return r.forEach(e=>{switch(e._tag){case"Left":o(e.left,i)||i.add(e.left);break;case"Right":u(e.right,l)||l.add(e.right)}}),n(i,l)}}function j(e){let t=_(e);return e=>r=>{let n=new Set;return r.forEach(r=>{let o=e(r);"Some"!==o._tag||t(o.value,n)||n.add(o.value)}),n}}let M=new Set,q=e=>0===e.size,b=e=>e.size,z=e=>t=>{let r,n=t.values(),o=!1;for(;!o&&!(r=n.next()).done;)o=e(r.value);return o};function A(e){return r(z(r(e)))}function U(e){let t=_(e);return(r,n)=>{if(void 0===n){let t=U(e);return e=>t(e,r)}return A(e=>t(e,n))(r)}}function _(e){return(t,r)=>{let n;if(void 0===r){let r=_(e);return e=>r(t,e)}let o=r.values(),u=!1;for(;!u&&!(n=o.next()).done;)u=e.equals(t,n.value);return u}}let k=e=>t=>{let r=[];return t.forEach(e=>r.push(e)),r.sort(e.compare)},I="ReadonlySet";function L(e){return{show:t=>{let r=[];return t.forEach(t=>{r.push(e.show(t))}),`new Set([${r.sort().join(", ")}])`}}}function D(t){let r=U(t);return e((e,t)=>r(e,t)&&r(t,e))}let P=e=>({concat:s(e)}),$=e=>({concat:P(e).concat,empty:M}),B=e=>({concat:m(e)}),C=e=>({concat:h(e)}),F=i;export{I as URI,f as chain,R as compact,h as difference,_ as elem,M as empty,A as every,c as filter,j as filterMap,w as foldMap,F as fromArray,i as fromReadonlyArray,o as fromSet,C as getDifferenceMagma,D as getEq,B as getIntersectionSemigroup,L as getShow,$ as getUnionMonoid,P as getUnionSemigroup,v as insert,m as intersection,q as isEmpty,U as isSubset,a as map,d as partition,S as partitionMap,g as reduce,p as reduceRight,E as remove,x as separate,u as singleton,b as size,z as some,k as toReadonlyArray,l as toSet,y as toggle,s as union};